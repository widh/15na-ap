// Widh Jio
// csi.hpp

#include <linux/connector.h>
#include <cstdint>
#include <queue>
#include <thread>
#include <tuple>
#include <mutex>
#include <cmath>

#include "15na.hpp"

#ifndef IRONA_CSI
#define IRONA_CSI

#undef CN_NETLINK_USERS
#define CN_NETLINK_USERS @CN_NETLINK_USERS@
#define CN_IDX_IWLAGN (CN_NETLINK_USERS + 0xf)
#define CN_VAL_IWLAGN 0x1

#define IRONA_SEND_CNT @IRONA_SEND_CNT@
#define IRONA_SLIDE_CNT @IRONA_SLIDE_CNT@
#define IRONA_WINDOW_CNT @IRONA_WINDOW_CNT@

typedef std::tuple<unsigned short, uint8_t *> Packet;
typedef std::queue<Packet> PacketQueue;

namespace csi
{
// Public Packet & Length Store
extern PacketQueue pacStore;

// Sending packet count
extern unsigned short ioPacketLength;

// Functions
void openSocket();
void pushPacket(unsigned short, uint8_t *);
} // namespace csi

#endif
